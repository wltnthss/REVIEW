# 핵심 데이터 모델링 - 유동오

## 1장 데이터 모델링 이론

**데이터 모델링**

* 데이터 모델링은 영속성을 갖는 데이터에 대한 시스템 구조를 사람이 이해할 수 있도록 형상화하는 과정이다.
* 즉, 식별하는 과정(개념)을 거쳐 식별한 것을 추상화하여 표현(논리)하고 추상화된 모델을 구체화된 형태로 변환(물리)하는 과정이라고 정의할 수 있다.
* 대표적인 모델링은 ER(Entity-Relationship Model)로 실체와 관계를 도식화하여 가장 널리 활용되고 있다.

**ER 모델 구성 요소**

* ER 모델의 구성요소로는 엔티티(Entity), 관계(Relationship), 속성(Attribute)로 구성되어 있다.

**Entitiy**

* Entity 엔티티는 DB내에서 구별할 수 있는 객체이다. (속성(iv)의 묶음)
* Entity는 정확히 말하면 엔티티타입이다. 고객은 엔티티타입이고, 고객인 '유동오'는 엔티티에 해당한다.

**Relationship**

* 관계의 종류는 크게 세 가지이다. **관계수, 선택성, 식별자상속**

1. 관계수
    * 1:1 관계 - 직원과 인턴과정
    * 1:M 관계 - 부서와 직원 관계, 한 부서에 여러 명의 직원이 소속되어 있으며, 직원은 한 부서에만 소속될 수 있다.
    * M:N 관계 - 학생과 수강과목과의 관계, 학생은 여러 개 수강과목을 신청하고, 수강과목은 여러 명의 학생에 의해 선택된다.
2. 선택성
    * [필수 : 필수] 관계 - 주문과 주문상품의 관계, 주문은 주문상품이 존재하고, 주문상품도 주문이 존재해야 한다.
    * [필수 : 선택] 관계 - 고객과 주문상품의 관계, 주문하지 않은 고객은 있으나, 모든 주문은 반드시 주문한 고객이 있어야 한다.
    * [선택 : 선택] 관계 - 사원과 계좌간의 관계, 사원은 소개사원으로 등록된 계좌가 존재하지 않고, 고객은 소개 사원을 지정하지 않아도 된다.
3. 식별자상속
    * 식별자 상속은 식별관계와 비식별 관계로 구분할 수 있다.
    * 식별관계는 pk이면서 fk인 것

**관계 유형**

* 관계 유형은 크게 네 가지로 나뉜다. **기본, 재귀적, 병렬, 슈퍼타입/서브타입 관계**

1. 기본 관계 : 엔티티와 엔티티가 하나의 관계를 맺는다. 
    * 가장 일반적인 관계이며, 1:1 또는 1:M 관계이다. ex) 부서와 직원
2. 재귀적 관계 : 하나의 엔티티가 자기 자신과 관계를 맺는 경우 재귀적 관계
    * 조직과 같은 계층 구조의 추가 및 삭제 등의 변경에 쉽게 대응할 수 있습니다.
3. 병렬 관계 : 엔티티와 엔티티 간에 두 개 이상의 관계를 맺는다.
    * 고객은 보험계약의 계약자이면서 피보험자이기도 합니다.
    * 두 엔티티 간의 관계가 적거나, 더 늘어나지 않는다면 병렬 관계로 관리해도 무방하나,
    * 추가될 가능성이 있거나 많은 관계를 가진다면 추가 엔티티로 대체하는 것을 고려해봐야 된다.
    * 병렬 관계가 많아지면 특정 고객 데이터를 찾기 어렵거나, 인덱스를 여러 개 생성해야 할 수도 있기 때문이다.

**속성**

* 데이터를 표현하는 가장 작은 단위
* 하나의 엔티티는 두 개 이상의 속성을 가지며, 속성명, 식별자여부, 옵셔널리티, 도메인 등으로 구성된다.

1. 단순 속성과 복합 속성
    * 단순 속성은 고객명, 이메일 등 속성을 더 분해 할 수 없는 원자 값을 가진다.
    * 복합 속성은 단순 속성들의 조합으로 구성됩니다. ex) 주소
2. 저장 속성과 파생 속성
    * 저장 속성은 원래 존재하는 속성, 파생 속성은 상품 단가와 주문 수량을 곱해서 얻는 주문금액과 같은 속성 컬럼이다. 
    * 즉, 저장 속성이나 다른 파생 속성으로부터 파생된 것이다.
    * 히스토리성으로 관리하거나 성능의 문제를 고려해보고 파생 속성을 테이블에 사용할 것인지 생각해보아야 한다.
3. 단일 값 속성과 다중 값 속성
    * 단일 값은 성별, 생일처럼 하나의 값을 가지고 취미와 같이 여러 개를 가지는 것이 다중 값 속성이다.

**식별자**

* 유일성, 최소성, 불변성, 존재성 

**관계형 데이터 모델 이론**

* 관계형 데이터 모델은 데이터를 2차원 테이블 형식으로 정의하고 표현한 모델이다.
* 이러한 테이블 형태를 릴레이션이라고 한다.
* 릴레이션은 정의에 해당하는 릴레이션 스키마(헤더)와 실제 값인 릴레이션 인스턴스(본문)로 구성된다.
* 릴레이션 스키마는 릴레이션명과 어트리뷰트를 포함하고 튜플은 릴레이션 인스턴스에 해당한다.

**관계형 모델의 키**






## 2장 개념 모델링

## 3장 논리 모델링

## 4장 물리 모델링

## 5장 모델링 이야기

